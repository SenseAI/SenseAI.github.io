<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/fonts.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">
    <link rel="stylesheet" type="text/css" href="stylesheets/syntax.css" media="screen">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="/javascripts/main.js"></script>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Sense AI Documentation</title>
  </head>

  <body data-spy="scroll" data-target="#scrollSpy" data-offset="15">
    <header>
      <div class="inner">
        <img src="//d3r46qqpc6jz4w.cloudfront.net/senseai/SenseAi_logo.svg">
        <h2>API/SDK Documentation</h2>
      </div>
    </header>

    <div id="content-wrapper">

      <div class="inner clearfix">
        <section id="main-content" class="markdown-body">
          <div id="apiDocumentation" class="group">
  <h1>API Documentation</h1>
  <a class="headerlink" href="#apiDocumentation"></a>
</div>

<div id="apiGeneral" class="group">
  <h2 class="page-header">General</h2>
  <a class="headerlink" href="#apiConventions"></a>
</div>
<div id="apiConventions" class="group">
  <h3>Conventions</h3>
  <a class="headerlink" href="#apiConventions"></a>
</div>

<h5 id="authentication">Authentication</h5>

<p>Where required, Basic Auth is used for user/developer level api access.</p>

<h5 id="time">Time</h5>

<p>Where timestamps are required either an ISO-8601 date string or a milliseconds-since-epoch(UTC), can be used interchangeably</p>

<div id="apiDocsAndCode" class="group">
  <h3>Documentation Code Examples</h3>
  <a class="headerlink" href="#apiDocsAndCode"></a>
</div>

<p>Throughout the API documentation we use the python(2) language to illustrate example usage.  For the examples to work the following imports are necessary:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">datetime</span></code></pre></figure>

<p>We use <a href="http://docs.python-requests.org/en/latest/">requests</a> for the http library in these examples, the features used are expected to be present in most mature http libraries in popular languages.</p>

<div id="apiResource" class="group">
  <h3>Resource Descriptors</h3>
  <a class="headerlink" href="#apiResource"></a>
</div>

<p>It is useful to too look at how SenseAI’s backend resources are organized, in order to understand the possibilites for resource access.  The resource relationships visible to the developer can be summed up as follows:</p>

<p><strong>users</strong> <em>have</em> <strong>applications</strong> : a user who is a developer can create applications(which represent a mobile device application which embeds an SDK), each of these are identified by an api_key, which are used to initiate the SDK along with the user_id</p>

<p><strong>application</strong> <em>have</em> <strong>environments</strong> : for each application, each device which uses an instance of the SDK is referred to as an environment, this environment tracks and identifies the mobile devices</p>

<p><strong>user</strong> <em>have</em> <strong>environments</strong> : users can link environments to their account through a pin challenge, this is used for individual app users to view their own data from the usage of senseAI APIs</p>

<p><strong>environments</strong> <em>have</em> <strong>data</strong> : each environment generates timestamped data</p>

<p>These relationships create the following possible resource descriptors:</p>

<p><code class="highlighter-rouge">/user/:user_id/</code><br />
<code class="highlighter-rouge">/user/:user_id/environment/:environment_id/</code><br />
<code class="highlighter-rouge">/user/:user_id/environment/:environment_id/data</code><br />
<code class="highlighter-rouge">/user/:user_id/environments</code><br />
<code class="highlighter-rouge">/user/:user_id/application/:application_id/</code><br />
<code class="highlighter-rouge">/user/:user_id/applications</code><br />
<code class="highlighter-rouge">/user/:user_id/application/:application_id/environment/:environment_id</code><br />
<code class="highlighter-rouge">/user/:user_id/application/:application_id/environment/:environment_id/data</code><br />
<code class="highlighter-rouge">/user/:user_id/application/:application_id/environments</code></p>

<div id="apiResponse" class="group">
  <h3>Response Envelope</h3>
  <a class="headerlink" href="#apiResponse"></a>
</div>

<p>All response bodies are JSON encoded.  All JSON responses have a standard response envelope, that can be used to obtain meta-data about the response, in addition to the message payload.  An example for <code class="highlighter-rouge">GET /user/_</code> is seen below.</p>

<h4 id="example-response">Example Response</h4>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://senseai-staging.com/api/v2/user/_/"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
    </span><span class="nt">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OK"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f507b1fa6bb4916b555816e89e7cea03"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@bar.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"developer:basic"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"unit_preference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"imperial"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created"</span><span class="p">:</span><span class="w"> </span><span class="mi">1432655398966</span><span class="p">,</span><span class="w">
    </span><span class="err">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h4 id="response-envelope-keys">Response Envelope Keys</h4>

<table>
  <thead>
    <tr>
      <th><strong>key</strong></th>
      <th><strong>description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>links.self</td>
      <td>a canonical version of the resource being accessed</td>
    </tr>
    <tr>
      <td>links.next</td>
      <td>if the resource has multiple parts, the link to the next part</td>
    </tr>
    <tr>
      <td>status.code</td>
      <td>same as the http response status code</td>
    </tr>
    <tr>
      <td>status.text</td>
      <td>the description of the http response status code</td>
    </tr>
    <tr>
      <td>error</td>
      <td>if an error occurred, a description of that error</td>
    </tr>
    <tr>
      <td>message</td>
      <td>the payload of the resource accessed (typically this is what you want)</td>
    </tr>
  </tbody>
</table>

<div id="apiPagination" class="group">
  <h3>Pagination</h3>
  <a class="headerlink" href="#apiPagination"></a>
</div>

<p>For large collections of resources pagination is necessary.  Two query params control pagination in resources with plurality: <code class="highlighter-rouge">limit</code> determines the number of items returned at a time, <code class="highlighter-rouge">offset</code> is the id of the last item obtained by the caller.  If the <code class="highlighter-rouge">links.next</code> field exists in the response body, that link (constructed using limit and offset) can be followed in order to obtain the next set of items.  Pagination terminates when links.next is undefined.  See List Environment Example below for a code example.</p>

<div id="apiRoutes" class="group">
  <h2 class="page-header">API Routes</h2>
  <a class="headerlink" href="#apiRoutes"></a>
</div>

<div id="apiCompatibility" class="group">
  <h3>List Device Compatibility</h3>
  <a class="headerlink" href="#apiCompatibility"></a>
</div>

<p>Get a list of SDK compatible devices, ones for which software sensors have been calibrated.</p>

<h4 id="url">URL</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET https://senseai.io/api/v2/device/compat
</code></pre>
</div>

<h4 id="options">Options</h4>

<table>
  <thead>
    <tr>
      <th>query param</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>onlyTempV2</td>
      <td>only show entries which are calibrated V2 Temperature Model</td>
    </tr>
  </tbody>
</table>

<h4 id="response">Response</h4>

<p>example response message</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"23bb76f0-482b-11e5-a230-95b571d65c97"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="s2">"OnePlus One"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"osVersion"</span><span class="p">:</span><span class="s2">"&lt;5.0.0"</span><span class="p">,</span><span class="w">
  </span><span class="err">}</span><span class="p">,</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h4 id="example-code">Example Code</h4>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">url</span> <span class="o">=</span> <span class="s">'{}/device/compat'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_url</span><span class="p">)</span>
<span class="n">params</span> <span class="o">=</span> <span class="p">{</span> <span class="s">'onlyTempV2'</span> <span class="p">:</span> <span class="s">'yes'</span> <span class="p">}</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="o">==</span><span class="mi">200</span><span class="p">:</span>
  <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'an error occurred'</span><span class="p">)</span>

<span class="n">devices</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s">'message'</span><span class="p">][</span><span class="s">'devices'</span><span class="p">]</span>

<span class="k">print</span> <span class="s">'Supported Devices'</span>

<span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="n">devices</span><span class="p">:</span>
  <span class="k">print</span> <span class="s">'</span><span class="se">\t</span><span class="s">'</span> <span class="o">+</span> <span class="n">device</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="o">+</span> <span class="s">' '</span> <span class="o">+</span> <span class="n">device</span><span class="p">[</span><span class="s">'osVersion'</span><span class="p">]</span></code></pre></figure>

<p>outputs:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Supported Devices
  Samsung Galaxy S5 4.4.2
  Samsung Galaxy S5 &gt;=5.0
  Samsung Galaxy S5 4.4.4
  Samsung Galaxy S4  *
</code></pre>
</div>

<div id="apiEnvironments" class="group">
  <h3>List Environments for an Application</h3>
  <a class="headerlink" href="#apiEnvironments"></a>
</div>

<p>List the environments registered with an api_key.  This requires pagination since this list can be quite large depending on the distribution of an app using sdk.</p>

<h4 id="url-1">URL</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET https://senseai.io/api/v2/user/:user_id/application/:application_id/environments
</code></pre>
</div>

<h4 id="response-1">Response</h4>

<p>example response message</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d41b25c634c6aef3852d3ecd03879e.FED2E1F1F1CE09667A891A55E1E7D1DA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445871149421</span><span class="p">,</span><span class="w">
    </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t0lte"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"device_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2bb9f350-4203-11e5-b07c-71c60df92d2d"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sdk_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.6.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63d41b25c634c6aef3852d3ecd03879e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FED2E1F1F1CE09667A891A55E1E7D1DA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445867995878</span><span class="p">,</span><span class="w">
    </span><span class="nt">"commercial_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Samsung Galaxy Note2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"os_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.1.2"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h4 id="example">Example</h4>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">url</span> <span class="o">=</span> <span class="s">'{}/api/v2/user/_/application/{}/environments'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span><span class="n">api_key</span><span class="p">)</span>

<span class="n">environment_ids</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>

  <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">))</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="o">==</span><span class="mi">200</span><span class="p">:</span>
    <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="p">)</span>

  <span class="n">body</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

  <span class="n">environment_ids</span> <span class="o">+=</span> <span class="p">[</span> <span class="n">e</span><span class="p">[</span><span class="s">'id'</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">body</span><span class="p">[</span><span class="s">'message'</span><span class="p">][</span><span class="s">'environments'</span><span class="p">]</span> <span class="p">]</span>

  <span class="k">if</span> <span class="s">'next'</span> <span class="ow">in</span> <span class="n">body</span><span class="p">[</span><span class="s">'links'</span><span class="p">]:</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">body</span><span class="p">[</span><span class="s">'links'</span><span class="p">][</span><span class="s">'next'</span><span class="p">]</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">break</span>

<span class="k">for</span> <span class="n">e_id</span> <span class="ow">in</span> <span class="n">environment_ids</span><span class="p">:</span>
  <span class="k">print</span> <span class="n">e_id</span></code></pre></figure>

<p>outputs:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>63d41b25c634c6aef3852d3ecd03879e.0107D0DF2157D7EC4552C1B0D6A691BF
63d41b25c634c6aef3852d3ecd03879e.117D788E7A5A61DD32BBF4619F73AFA5
63d41b25c634c6aef3852d3ecd03879e.2C49FD6AB5C58975961B18E773097646
63d41b25c634c6aef3852d3ecd03879e.8E3B20F445235E6DB92C132D5408B6E4
63d41b25c634c6aef3852d3ecd03879e.9383AB36613529BE35CB2F818C3049B5
63d41b25c634c6aef3852d3ecd03879e.96BD8335CDC067E1B5461EDAA270672B
63d41b25c634c6aef3852d3ecd03879e.A5BADB55D70CFA1D7B33A34F99AD44DD
...
</code></pre>
</div>

<div id="apiQueryData" class="group">
  <h3>Query Data from an Environment in an Application</h3>
  <a class="headerlink" href="#apiQueryData"></a>
</div>

<h4 id="url-2">URL</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET https://senseai.io/api/v2/user/:user_id/application/:application_id/environment/:environment_id/data
</code></pre>
</div>

<h4 id="options-1">Options</h4>

<table>
  <thead>
    <tr>
      <th>parameter</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>start</strong></td>
      <td>beginning of time indexed window (ISO or unix time allowed)</td>
    </tr>
    <tr>
      <td><strong>end</strong></td>
      <td>end of time indexed window</td>
    </tr>
    <tr>
      <td><strong>limit</strong></td>
      <td>pagination: the number of data points to return (default is 20, max is 100)</td>
    </tr>
    <tr>
      <td><strong>order</strong></td>
      <td>‘descending’ or ‘ascending’ (default is descending, accepts any abbreviations)</td>
    </tr>
  </tbody>
</table>

<h4 id="response-2">Response</h4>

<p>example response message:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"environment_id"</span><span class="p">:</span><span class="s2">"63d41b25c634c6aef3852d3ecd03879e.E668B385B50BE3ED3B4A128F6A3D2455"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="s2">"2015-10-26T18:38:05.136Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:{</span><span class="w">
       </span><span class="nt">"longitude"</span><span class="p">:</span><span class="mf">3.6662295</span><span class="p">,</span><span class="w">
       </span><span class="nt">"latitude"</span><span class="p">:</span><span class="mf">43.3977541</span><span class="p">,</span><span class="w">
       </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="mf">35.19900131225586</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"derived_sensors"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"temperature"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="mf">20.622745768229166</span><span class="p">,</span><span class="w">
        </span><span class="nt">"confidence"</span><span class="p">:</span><span class="mf">0.9999999963628308</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"normalized_sensors"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"lux"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="mf">0.36372525855</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"raw_sensors"</span><span class="p">:{</span><span class="w">
      </span><span class="nt">"average_sman_pressure"</span><span class="p">:{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="mf">1012.5</span><span class="w">
      </span><span class="p">},</span><span class="w">
    </span><span class="err">}</span><span class="w">
    </span><span class="s2">"average_sman_humidity"</span><span class="err">:</span><span class="p">{</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="mf">73.55426205721768</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">]</span></code></pre></figure>

<h4 id="example-1">Example 1</h4>

<p>Get Most Recent Data</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">url</span> <span class="o">=</span> <span class="s">'{}/api/v2/user/_/application/{}/environment/{}/data'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span><span class="n">api_key</span><span class="p">,</span><span class="n">environment_id</span><span class="p">)</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">)</span> <span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span><span class="o">==</span><span class="mi">200</span><span class="p">:</span>
  <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'an error occurred'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s">'message'</span><span class="p">][</span><span class="s">'data'</span><span class="p">]:</span>
  <span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="s">'time'</span><span class="p">]</span> <span class="o">+</span> <span class="s">'</span><span class="se">\t\t</span><span class="s">'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'derived_sensors'</span><span class="p">][</span><span class="s">'temperature'</span><span class="p">][</span><span class="s">'value'</span><span class="p">])</span></code></pre></figure>

<p>outputs:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>2015-10-27T00:11:55.922Z		24.3639510091
2015-10-27T00:11:45.426Z		24.5896988932
2015-10-27T00:11:34.938Z		24.4411124674
2015-10-27T00:11:24.438Z		24.2773323568
2015-10-27T00:11:13.933Z		24.4989135742
2015-10-27T00:11:03.426Z		24.3469091797
2015-10-27T00:10:52.928Z		24.5173982747
2015-10-27T00:10:42.438Z		24.3765844727
2015-10-27T00:10:31.935Z		24.5652490234

</code></pre>
</div>

<h4 id="example-2">Example 2</h4>

<p>Page Through All Data</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">url</span> <span class="o">=</span> <span class="s">'{}/api/v2/user/_/application/{}/environment/{}/data'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span><span class="n">api_key</span><span class="p">,</span><span class="n">environment_id</span><span class="p">)</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>

  <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span> <span class="p">)</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'an error occured'</span><span class="p">)</span>

  <span class="n">dataCollection</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s">'message'</span><span class="p">][</span><span class="s">'data'</span><span class="p">]</span>

  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataCollection</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
    <span class="k">break</span>

  <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">dataCollection</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="s">'time'</span><span class="p">]</span> <span class="o">+</span> <span class="s">'</span><span class="se">\t</span><span class="s">'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'derived_sensors'</span><span class="p">][</span><span class="s">'temperature'</span><span class="p">][</span><span class="s">'value'</span><span class="p">])</span>

  <span class="n">params</span><span class="p">[</span><span class="s">'end'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'time'</span><span class="p">]</span></code></pre></figure>

<h4 id="example-3">Example 3</h4>

<p>Poll For Data</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="n">url</span> <span class="o">=</span> <span class="s">'{}/api/v2/user/_/application/{}/environment/{}/data'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">base_url</span><span class="p">,</span><span class="n">api_key</span><span class="p">,</span><span class="n">environment_id</span><span class="p">)</span>

<span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">"order"</span><span class="p">:</span> <span class="s">"ascending"</span><span class="p">,</span>
          <span class="s">"start"</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span> <span class="p">}</span>

<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
  <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">auth</span> <span class="o">=</span> <span class="p">(</span><span class="n">username</span><span class="p">,</span><span class="n">password</span><span class="p">),</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span> <span class="p">)</span>

  <span class="k">if</span> <span class="ow">not</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
    <span class="k">raise</span> <span class="nb">Exception</span><span class="p">(</span><span class="s">'an error occured'</span><span class="p">)</span>

  <span class="n">dataCollection</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s">'message'</span><span class="p">][</span><span class="s">'data'</span><span class="p">]</span>

  <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">dataCollection</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">data</span><span class="p">[</span><span class="s">'time'</span><span class="p">]</span> <span class="o">+</span> <span class="s">'</span><span class="se">\t</span><span class="s">'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'derived_sensors'</span><span class="p">][</span><span class="s">'temperature'</span><span class="p">][</span><span class="s">'value'</span><span class="p">])</span>


  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">dataCollection</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
    <span class="n">params</span><span class="p">[</span><span class="s">'start'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'time'</span><span class="p">]</span>

  <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">15</span><span class="p">)</span> <span class="c"># pause 15 minutes and poll again</span></code></pre></figure>

<div id="apiApplicationInfo" class="group">
  <h3>Get Application Info</h3>
  <a class="headerlink" href="#apiApplicationInfo"></a>
</div>

<h4 id="url-3">URL</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET https://senseai.io/api/v2/user/:user_id/application/:application_id
</code></pre>
</div>

<h4 id="response-3">Response</h4>

<p>example response message</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"application"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foo"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a673b59c13f703a461bfd3b4e7244302"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f507b1fa6bb4916b555816e89e7cea03"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"master_switch"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"collection_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
      </span><span class="nt">"post_diagnostic_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<h3 id="change-application-level-remote-configuration">Change Application-Level Remote Configuration</h3>

<p>Certain SDK parameters can be adjusted in the field, this should be done using the following:</p>

<h4 id="url-4">URL</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>PUT https://senseai.io/api/v2/user/:user_id/application/:application_id/configure
</code></pre>
</div>

<h4 id="request-body">Request Body</h4>

<p>example request body</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nt">"master_switch"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"collection_rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="nt">"post_diagnostic_data"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span></code></pre></figure>

<div id="sdkDocumentation" class="group">
  <h1>SDK Documentation</h1>
  <a class="headerlink" href="#sdkDocumentation"></a>
</div>

<div id="sdkGeneral" class="group">
  <h2 class="page-header">About the SDK</h2>
  <a class="headerlink" href="#sdkGeneral"></a>
</div>

<h4 id="introduction">Introduction</h4>

<p>This document explains what the Sense Ai SDK for Android is and how to integrate it into your application.  Please review these details prior to implementation.  Contact help@senseai.io for additional support.</p>

<h4 id="what-does-the-sdk-do">What does the SDK do?</h4>

<p>The purpose of the SDK is to normalize and extend the sensing capabilities of Android devices without any additional hardware.  This enables the measurement of comparable physical and context variables in the neighborhood of the device.  A complete list of the measurements can be found in section 11 of this document.</p>

<h4 id="basics-of-operation">Basics of Operation</h4>

<p>The SDK is compatible with Android SDK versions 15 and up.</p>

<p>At the core of the SDK is a Service that curates measurements derived from sensors and other data sources, and tags them with the time and last known location. The Service can be configured so that it is constantly running (even if the parent app has been killed) either at a fast rate or at a slow rate or it can be configured on a timer to sleep and wake up every few minutes to make a temperature prediction and then go back to sleep until it is awoken by the timer again. The period of the timer is defaulted to 15 minutes however the developer can configure this time remotely from the developer portal to range between 3 and 15 minutes per prediction.</p>

<p>Predictions are not made instantaneously and require at least 40 seconds of on-time before a prediction can be made.</p>

<p>Measurement results are communicated from the SDK to the parent app via a Local Broadcast. To receive updates from the SDK the developer will need to extend and register the KelvinWakefulBroadcastReceiver from the SDK. This will allow the parent app to receive updates while in the foreground, background or after being killed.</p>

<div id="sdkBasicImplementation" class="group">
    <h2 class="page-header">Implementation Basics</h2>
  <a class="headerlink" href="#sdkBasicImplementation"></a>
</div>

<h4 id="connect-to-the-sdk">Connect to the SDK</h4>

<p>The developer accesses the SDK through a class called KelvinInit. The KelvinInit class allows the developer to use their api key and developer id to authenticate with the SDK, to set the mode of data collection, to get the current data collection mode and to ask the Sense Ai servers for a PIN which can be used to associate a device with the Sense Ai data portal.</p>

<p>To begin using the SDK the getInstance() method must be called. This method returns immediately with a reference to KelvinInit.</p>

<p>Before the SDK can be used it must be connected to. To do this the connect() method must be called. The connect() method is asynchronous because the SDK needs to authenticate the application and ensure device compatibility. The connect() method requires an api key and developer id which can be obtained from our developer web portal. The ConnectionCallback is used to let the application know when the SDK is connected, is compatible or if the connection failed. Once the connection callback indicates that the SDK is connected and compatible then the rest of the SDK methods are able to be called. If any of the other methods are called prior to the SDK being connected, then a RuntimeException will be thrown.</p>

<h4 id="adjust-sdk-settings">Adjust SDK Settings</h4>

<p>If the developer desires to change the rate of data collection the setDataMode() method can be called and supplied with one of four modes: OperatingMode.ALWAYS_FAST, OperatingMode.ALWAYS_SLOW, OperatingMode.TIMER and OperatingMode.OFF. The ALWAYS_SLOW and ALWAYS_FAST modes put the SDK in a mode where data is constantly collected to make predictions. Predictions will occur either every 40 seconds or every 10 seconds respectively. To set the SDK to TIMER mode the TIMER argument is supplied and the SDK will revert back to sleeping for period of time then waking up and making a prediction. If starting out in TIMER mode it will take 60 seconds before a prediction is returned. The period of the timer is set through the developer portal. OperatingMode.OFF will stop the data collection from occurring. Data collection will not occur again until the mode is set to something other than OperatingMode.OFF.</p>

<h4 id="receive-data-from-the-sdk">Receive data from the SDK</h4>

<p>The SDK contains a public abstract class that extends WakefulBroadcastReceiver that can be extended by the developer and used to receive updates from the Sense Ai SDK. The developer needs to create and register instances of this BroadcastReceiver wherever updates are required. For instance, in an app that wants to log temperature and location data, the developer might create an instance of the WakefulBroadcastReceiver in their Application class and register it in onCreate() of the Application class. Because it’s a wakeful broadcast receiver, whenever a broadcast is received the receiver can fire off an IntentService to do work such as persisting the values to a database. This ensures that data can be collected and persisted even if the parent app has been killed or is in the background. In other instances, it may only be important to collect data in an Activity or Fragment and so the broadcast receiver can just be registered/unregistered in onStart() and onPause().</p>

<p>Note that it is not necessary to initialize the Sense Ai SDK in a service. It creates a Service internally to ensure that it can outlive the class that instantiates it so the predictions can be made whether the app is in the foreground, background or has been killed. The Service is still susceptible to the OS killing it because of memory pressure, however it will automatically start again once the OS allows it.</p>

<p>The SDK doesn’t cache predictions, it simply returns them to the parent app and the parent app can use them however it needs to.</p>

<div id="sdkGetStarted" class="group">
    <h2 class="page-header">Getting Started</h2>
  <a class="headerlink" href="#sdkGetStarted"></a>
</div>

<ol>
<li> Register for API key and Developer id</li>
 <ul>
   <li>Create an account <a href="https://senseai.io/home/products_and_services">here:</a></li>
   <li>Log In to get your developer id.</li>
   <li>Generate an API key using your app’s package name. Note, if the package name ever changes, you must retrieve a new API key.</li>
 </ul>
<li>Add library files to your project</li>
<ul>
   <li>Your project structure should include the following directories: Project-Dir/app/<b>libs/</b></li>
   <li>Add the following file to the <b>/libs</b> directory: <b>kelvinsdk-production-onlinesdk-release-0.7.0.aar</b> </li>

  </ul>
<li>Setup project in Gradle</li>
   <ul>
   <li>Note on Google Play Services: Version 7.0.0 is required.  The SDK requires “base” and “location” packages, but if you are using any other Google Play Services packages such as “analytics” you must also use version 7.0.0 of those packages.</li>
   <li>Locate your app’s build.gradle file (There will most likely be two build.gradle files. Use the build.gradle in your module’s directory, not the higher-level, project-wide build.gradle file). Merge the following statements into your module’s build.gradle file:
    
<figure class="highlight"><pre><code class="language-groovy" data-lang="groovy">    <span class="n">android</span> <span class="o">{</span>
      <span class="n">packagingOptions</span> <span class="o">{</span>
          <span class="n">exclude</span> <span class="s1">'META-INF/LICENSE.txt'</span>
      <span class="o">}</span>
      <span class="n">repositories</span> <span class="o">{</span>
          <span class="n">flatDir</span> <span class="o">{</span>
              <span class="n">dirs</span> <span class="s1">'libs'</span>
          <span class="o">}</span>
      <span class="o">}</span>
    <span class="o">}</span>

    <span class="n">dependencies</span> <span class="o">{</span>
        <span class="n">compile</span> <span class="nf">fileTree</span><span class="o">(</span><span class="nl">dir:</span> <span class="s1">'libs'</span><span class="o">,</span> <span class="nl">include:</span> <span class="o">[</span><span class="s1">'*.jar'</span><span class="o">])</span>
        <span class="n">compile</span> <span class="s1">'com.android.support:appcompat-v7:21.0.3'</span>
        <span class="n">compile</span> <span class="o">(</span><span class="nl">name:</span><span class="s1">'kelvinsdk-onlinesdk-release-prod-0-6-0'</span><span class="o">,</span> <span class="nl">ext:</span><span class="s1">'aar'</span><span class="o">)</span>
        <span class="n">compile</span> <span class="s1">'org.apache.commons:commons-math3:3.3'</span>
        <span class="n">compile</span> <span class="s1">'com.google.code.gson:gson:2.3.1'</span>
        <span class="n">compile</span> <span class="s1">'com.github.zafarkhaja:java-semver:0.9.0'</span>
        <span class="n">compile</span> <span class="s1">'com.koushikdutta.ion:ion:2.1.3'</span>
        <span class="n">compile</span> <span class="s1">'com.google.android.gms:play-services-base:7.0.0'</span>
        <span class="n">compile</span> <span class="s1">'com.google.android.gms:play-services-location:7.0.0'</span>
    <span class="o">}</span>
    </code></pre></figure>

  </li>
  </ul>

<li> Manifest setup </li>
    <ul>
    <li> Add the following lines (in bold) to your AndroidManifest.xml file:

    
<figure class="highlight"><pre><code class="language-xml" data-lang="xml">    <span class="nt">&lt;manifest</span>
      <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
      <span class="na">package=</span><span class="s">"com.example.app"</span> <span class="nt">&gt;</span>

      <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.ACCESS_FINE_LOCATION"</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.INTERNET"</span> <span class="nt">/&gt;</span>

      <span class="nt">&lt;application</span> <span class="err">android</span> <span class="na">:name=</span><span class="s">”.Your</span> <span class="err">Application</span> <span class="err">Class</span> <span class="err">Name”</span> <span class="nt">&gt;</span>
        ...
      <span class="nt">&lt;/application&gt;</span>
    <span class="nt">&lt;/manifest&gt;</span>
    </code></pre></figure>



   * <b>Note if you’re not extending the application class you can disregard the android:name=”my.applicationclass.name” line.</b>
   </li>
   </ul>
<li>Setup complete</li>
  <ul>
     <li>Your project is not setup to run the SDK and resolve the SDK's dependencies</li>
   </ul>
</ol>

<div id="sdkOtherSetupNotes" class="group">
    <h2 class="page-header">Other Setup Notes</h2>
  <a class="headerlink" href="#sdkOtherSetupNotes"></a>
</div>

<h4 id="proguard-setup">Proguard Setup</h4>

<ul>
<li>If you are using ProGuard or DexGuard to shrink, optimize and obfuscate your source code, 
you will need to include the following definitions either in your existing proguard file or in a new
proguard file that will need to be specified to be used during your build:

    
<figure class="highlight"><pre><code class="language-txt" data-lang="txt">    -keepattributes Signature
    -keepattributes *Annotation*

    -keep class sun.misc.Unsafe { *; }
    -keep class com.google.gson.stream.** { *; }
    -dontwarn com.google.*

    -keep class io.senseai.kelvinsdk.** { *; }
    -dontwarn io.senseai.kelvinsdk.**
    -keep class org.apache.commons.** { *; }
    -dontwarn org.apache.commons.**
    -keep class com.google.common.** { *; }
    -dontwarn com.google.common.**
    -dontwarn javax.annotation.**
    -keep class com.koushikdutta.ion.** { *; }
    -dontwarn com.koushikdutta.ion.**
    -keep class com.github.zafarkhaja.** { *; }
    -dontwarn com.github.zafarkhaja.**
    -keep public interface io.senseai.onlinesdk.KelvinInit.ControlCallbacks {*;}
    -keep public interface io.senseai.onlinesdk.KelvinInit.ConnectionCallbacks {*;}

    </code></pre></figure>


</li>
</ul>

<h4 id="google-play-services">Google Play Services</h4>
<ul>
  <li>
  This SDK uses Google Play Services version 7.0.0 Fused Location Api. Before you instantiate the SDK it is important to verify that the version of Google Play Services on the device is at least at 7.0.0. If you don’t do this the location will not be tagged to the predictions returned by the SDK. This <a href="http://www.androiddesignpatterns.com/2013/01/google-play-services-setup.html">link</a> provides a detailed tutorial on how to accomplish this.
  </li>
</ul>

<h4 id="json-structure-of-prediction-object">Json Structure of Prediction object</h4>

<ul>
<li>
  The Prediction object that is returned to the client app has a toJson() method which makes serializing the 
  object into a json formatted string easy.
</li>
  <li>
    For Basic level accounts, the Prediction object has the following example structure:
    
<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445891343445</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">44.9783833</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.3083898</span><span class="p">,</span><span class="w">
        </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mf">37.5</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"derived_sensors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.123828124999942</span><span class="p">,</span><span class="w">
            </span><span class="nt">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2099999999791275</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
    </span></code></pre></figure>



  </li>
  <li>
    For Premium level accounts, the Predictions object has the following example structure:
      
<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1445891343445</span><span class="p">,</span><span class="w">
    </span><span class="nt">"location"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">44.9783833</span><span class="p">,</span><span class="w">
        </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-93.3083898</span><span class="p">,</span><span class="w">
        </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mf">37.5</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"derived_sensors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"temperature"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.123828124999942</span><span class="p">,</span><span class="w">
            </span><span class="nt">"confidence"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2099999999791275</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"is_inside"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"normalized_sensors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"pressure"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">988.583984375</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"lux"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.09313146375</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"raw_sensors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"average_sman_light"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">9.09313146375</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"average_sman_humidity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">43.2221</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
      </span></code></pre></figure>


  </li>
</ul>

<div id="sdkPublicApi" class="publicApi">
    <h2 class="page-header">Public API</h2>
  <a class="headerlink" href="#sdkPublicApi"></a>
</div>

<p><a class="" href="/Archive/index.html">SDK Documentation</a></p>

<div id="sdkReleaseNotes" class="publicApi">
    <h2 class="page-header">Release Notes</h2>
  <a class="headerlink" href="#sdkReleaseNotes"></a>
</div>

<h4 id="v060">V0.6.0</h4>
<ul>
  <li>Added Prediction Object to return results to parent app</li>
  <li>Added toJson() method to Prediction object to serialize it for parent app</li>
  <li>Changed db schema and how predictions vs. diagnostic data vs. sensor data is stored</li>
  <li>Added network call for local weather data when in TIMER mode</li>
  <li>Added OFF mode to public API</li>
  <li>Added db table to store when device was last plugged in and what the battery level was to help with charging model</li>
  <li>Added new device parameters to Session response to account for new models</li>
  <li>Added new temperature model</li>
  <li>Disabled onSurface data collection and prediction</li>
  <li>Added isIndoor model</li>
  <li>Temperature accuracy changed to temperature confidence</li>
  <li>Added different temperature confidence algorithm</li>
  <li>Calculating and obfuscating device UUID differently</li>
  <li>Added normalized data calculations</li>
  <li>Added ‘Account’ field to Session response to differentiate basic vs premium accounts</li>
  <li>Fixed bug when location is turned off on the device</li>
  <li>Bug fixes</li>
</ul>

<h4 id="v05x">V0.5.x</h4>
<ul>
  <li>Changed public API to use a dedicated thread to perform getter and setter operations</li>
  <li>Started doing data collection on separate threads</li>
  <li>Added a connect() method so that parent app can get a reference without forcing a connection</li>
  <li>Added isConnected(), isConnecting() and isCompatible() methods to public API</li>
  <li>Split callbacks up into ConnectionCallbacks and ControlCallbacks so user isn’t forced to register for control callbacks during connection</li>
  <li>Added handler that performs callbacks from KelvinInit on whatever thread getInstance was called from</li>
  <li>Removed getPredictionNow() method</li>
  <li>Added a class that checks for file validity when a new Session is downloaded</li>
  <li>Added new temperature model with support for charging, screen brightness and cpu</li>
  <li>Added support for One Plus One nightly build sys fs files changing</li>
  <li>Added onSurface model</li>
</ul>


        </section>

        <aside id="sideNav">
            <nav class="bs-docs-sidebar">
                <ul id="sidebar" class="nav nav-stacked">
                    <li>
                        <a href="#apiDocumentation">API Documentation</a>
                    </li>
                    <li>
                        <a href="#apiGeneral">General</a>
                        <ul class="nav nav-stacked">
                            <li><a href="#apiConventions">Conventions</a></li>
                            <li><a href="#apiDocsAndCode">Documentation Code Examples</a></li>
                            <li><a href="#apiResource">Resource Descriptors</a></li>
                            <li><a href="#apiResponse">Response Envelope</a></li>
                            <li><a href="#apiPagination">Pagination</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#apiRoutes">API Routes</a>
                        <ul class="nav nav-stacked">
                            <li><a href="#apiCompatibility">List Device Compatibility</a></li>
                            <li><a href="#apiEnvironments">List Environments for an Application</a></li>
                            <li><a href="#apiQueryData">Query Data from an Environment in an Application</a></li>
                            <li><a href="#apiApplicationInfo">Get Application Info</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="#sdkDocumentation">SDK</a>
                        <ul class="nav nav-stacked">
                            <li><a href="#sdkGeneral">About the SDK</a></li>
                            <li><a href="#sdkBasicImplementation">Implementation Basics</a></li>
                            <li><a href="#sdkGetStarted">Get Started</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </aside>
    </div>
</div>


  </body>
</html>
